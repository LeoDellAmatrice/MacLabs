{% extends 'base.html' %}

{% block title %}
MacLabs Sandbox
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/criar.css') }}">
{% endblock %}

{% block content %}
<div class="sandbox-container">
    <h1>Personalize seu Produto</h1>

    <!-- Modal de aviso -->
    <div id="modal-container" class="modal">
        <div class="modal-content">
            <div id="titulo-modal">
                <img src="{{ url_for('static', filename='img/exclamacao.svg') }}" alt="Ponto de Exclamação">
                <h2>Atenção</h2>
                <img src="{{ url_for('static', filename='img/exclamacao.svg') }}" alt="Ponto de Exclamação">
            </div>
            <p>Esta funcionalidade Sandbox está em desenvolvimento e pode não refletir todas as capacidades do produto final.</p>
            <p>Os valores de preço e o tempo estimado de impressão são aproximados e podem não ser totalmente precisos.</p>
            <button id="close-modal">Entendi</button>
        </div>
    </div>

    <!-- Card que contém o canvas e as ferramentas -->
    <div class="card">
        <!-- Canvas -->
        <div class="canvas-container">
            <canvas id="sandbox-canvas"></canvas> <!-- O canvas correto -->
        </div>

        <!-- Ferramentas de personalização -->
        <div class="tools-container">
            <h2>Ferramentas de Personalização</h2>

            <div class="tool">
                <label>Escolha a Cor do Filamento:</label>
                <div class="color-options">
                    <button class="color-option" data-color="#2d8ef1" style="background-color: #2d8ef1;"></button>
                    <button class="color-option" data-color="#ff0000" style="background-color: #ff0000;"></button>
                    <button class="color-option" data-color="#00ff00" style="background-color: #00ff00;"></button>
                    <button class="color-option" data-color="#ffff00" style="background-color: #ffff00;"></button>
                    <button class="color-option" data-color="#ff00ff" style="background-color: #ff00ff;"></button>
                    <button class="color-option" data-color="#000000" style="background-color: #000000;"></button>
                    <button class="color-option" data-color="#ffffff" style="background-color: #ffffff; border: 1px solid #ccc;"></button>
                </div>
            </div>

            <div class="tool">
                <label for="size-input">Tamanho:</label>
                <input type="range" id="size-input" min="0.5" max="3" step="0.1" value="1"> <!-- Tamanho inicial -->
                <span id="size-value">1.0</span>
            </div>

            <div class="tool">
                <label for="material-select">Escolha o Material:</label>
                <select id="material-select">
                    <option value="pla">PLA (Plástico de Ácido Polilático)</option>
                    <option value="abs">ABS (Acrilonitrila Butadieno Estireno)</option>
                    <option value="petg">PETG (Polietileno Tereftalato Glicol)</option>
                    <option value="nylon">Nylon</option>
                </select>
            </div>

            <div class="tool">
                <label for="infill-density">Densidade do Preenchimento (%):</label>
                <input type="range" id="infill-density" min="5" max="100" step="5" value="20">
                <span id="infill-value">20%</span>
            </div>

            <div class="tool">
                <label for="surface-texture">Acabamento da Superfície:</label>
                <select id="surface-texture">
                    <option value="smooth">Liso</option>
                    <option value="matte">Fosco</option>
                    <option value="textured">Texturizado</option>
                    <option value="glossy">Brilhante</option>
                </select>
            </div>

            <div class="tool">
                <label>Tempo Estimado de Impressão:</label>
                <p id="estimated-time">Aprox. 12 Minutos</p>
            </div>
            <div class="tool">
                <label>Preço Estimado:</label>
                <p id="estimated-price">R$ 14,04</p>
            </div>

            <div class="tool">
                <button id="save-project">Salvar Projeto</button>
            </div>
            <div class="tool">
                <button id="buy-project">Comprar</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script type="module" src="{{ url_for('static', filename='js/criar.js') }}"></script>
<script src="{{ url_for('static', filename='js/modal.js') }}"></script>
{% endblock %}
